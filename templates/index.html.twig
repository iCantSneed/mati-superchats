<!DOCTYPE html>
<html class="height-full">
  <head>
    <title>MATI Appendix</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.8.0/css/uswds.min.css" integrity="sha512-fxBZVlVQrZVKTlt4kr/hPDd1p0SYHuQxytgI9ccrYonBfAFTXbGPSL08YdYUA8DPXpW25F5G+nOjQK76s5USQQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.8.0/js/uswds-init.min.js" integrity="sha512-O4/iaC7XNMEYqktWqYtH6Rg++++GZAdUMITJVzu0D1X4ckQyXHJOoC4SC4Ivwsr8YMTjhSnDxem0Ac62IQuG1w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    {% block importmap %}{{ importmap('app') }}{% endblock %}
  </head>
  <body data-controller="live-superchats" data-live-superchats-live-url-value="{{ url('mati_live') }}">
    <div class="position-sticky top-0 z-200 bg-white border-bottom-1px border-base-lighter">
      <div class="usa-overlay"></div>
      <header class="usa-header usa-header--basic">
        <div class="usa-nav-container maxw-none">
          <div class="usa-navbar">
            <div class="usa-logo display-flex flex-align-center">
              <em class="usa-logo__text">MATI Appendix</em>
              <a target="_blank" class="usa-nav-link margin-left-1 square-4" title="Disconnected" data-live-superchats-target="indicatorLink">
                {{- _self.svg("electrical_services", "square-4 text-red", {"data-live-superchats-target": "indicatorImage"}) -}}
              </a>
            </div>
            <button type="button" class="usa-menu-btn">
              {{- _self.svg("menu") -}}
            </button>
          </div>
          <nav class="usa-nav">
            <button type="button" class="usa-nav__close">
              {{- _self.svg("close") -}}
            </button>
            <ul class="usa-nav__primary usa-accordion">
              {{- _self.navlink("Superchats Archive", "https://github.com/iCantSneed/mati-superchats/releases", "topic") -}}
              {{- _self.navlink("SneedHub", "https://github.com/iCantSneed/mati-superchats", "github") -}}
            </ul>
          </nav>
        </div>
      </header>
    </div>
    <div class="usa-section padding-top-4">
      <div class="grid-container maxw-none">
        <div class="grid-row">
          <main class="usa-prose" id="superchats-container">
            <div id="live-connecting">Hold on while you're being connected...</div>
          </main>
        </div>
      </div>
    </div>
    <div class="usa-identifier">
      <section class="usa-identifier__section usa-identifier__section--usagov">
        <div class="usa-identifier__container maxw-none">
          <p>Copyright &copy;{{ "now"|date("Y") }}. Licensed under <a href="https://github.com/iCantSneed/mati-superchats/blob/master/LICENSE">GNU Affero General Public License v3.0</a>.</p>
          <p>The owners and operators of this website take no responsibility and assume no liability for any user content that you or any other person or third party posts or sends using the service.</p>
          <p>Version: {{ include('revision', ignore_missing = true)|default('dev') }}</p>
        </div>
      </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uswds/3.8.0/js/uswds.min.js" integrity="sha512-V/eNPuqU6gTDHwQsFL5X12i0TzX5lwVvON6VuEeTXDoSnAeA5nnc53TUEhiUdT16s0nj4MXo6OcUBAvwhdFOAw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </body>
</html>

{%- macro svg(img, classes="", attr={}) -%}
<svg class="usa-icon {{ classes }}" {%- for k, v in attr -%}{{ k }}="{{ v }}"{%- endfor -%}>
  <use href="{{ asset('external/sprite.svg') }}#{{ img }}"></use>
</svg>
{%- endmacro -%}
{%- macro navlink(title, href, img) -%}
  <li class="usa-nav__primary-item">
    <a href="{{ href }}" target="_blank" class="usa-nav-link" title="{{ title }}">
      {{- _self.svg(img, "square-4 text-middle") -}}
      <span class="desktop:display-none text-middle">{{ title }}</span>
    </a>
  </li>
{%- endmacro -%}
